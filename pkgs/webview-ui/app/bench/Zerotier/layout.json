[
  {
    "cmachine": {
      "name": "luna",
      "flake": {
        "identifier": "/home/lhebendanz/.local/share/vpn_bench/clan"
      },
      "nix_options": [],
      "cached_deployment": {
        "buildHost": null,
        "facts": {
          "publicModule": "clan_cli.facts.public_modules.in_repo",
          "secretModule": "clan_cli.facts.secret_modules.sops",
          "secretUploadDirectory": "/var/lib/sops-nix",
          "services": {
            "zerotier": {
              "generator": {
                "finalScript": "set -eu -o pipefail\n\nexport PATH=\"/nix/store/lidgv1whp3cjhz62v07rsfq56p2qv77p-zerotierone-1.14.2/bin:/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/bin:/nix/store/fr9yr63a1267cr0r86w18c77mh3xavcc-coreutils-9.6/bin\"\n\n# prepare sandbox user on platforms where this is supported\nmkdir -p /etc\n\ncat > /etc/group <<EOF\nroot:x:0:\nnixbld:!:$(id -g):\nnogroup:x:65534:\nEOF\n\ncat > /etc/passwd <<EOF\nroot:x:0:0:Nix build user:/build:/noshell\nnixbld:x:$(id -u):$(id -g):Nix build user:/build:/noshell\nnobody:x:65534:65534:Nobody:/:/noshell\nEOF\n\ncat > /etc/hosts <<EOF\n127.0.0.1 localhost\n::1 localhost\nEOF\n\nsource /nix/store/8fdvf0sv69c0lhl7jmsavbavm7iarbsx-minifakeroot/share/minifakeroot/rc\npython3 /nix/store/76qxyya5k7md52v20v6r3nwdahjrapcx-generate.py --mode network \\\n  --ip \"$facts/zerotier-ip\" \\\n  --identity-secret \"$secrets/zerotier-identity-secret\" \\\n  --network-id \"$facts/zerotier-network-id\"\n\n",
                "path": [
                  "/nix/store/lidgv1whp3cjhz62v07rsfq56p2qv77p-zerotierone-1.14.2",
                  "/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9"
                ],
                "prompt": null,
                "script": "source /nix/store/8fdvf0sv69c0lhl7jmsavbavm7iarbsx-minifakeroot/share/minifakeroot/rc\npython3 /nix/store/76qxyya5k7md52v20v6r3nwdahjrapcx-generate.py --mode network \\\n  --ip \"$facts/zerotier-ip\" \\\n  --identity-secret \"$secrets/zerotier-identity-secret\" \\\n  --network-id \"$facts/zerotier-network-id\"\n"
              },
              "name": "zerotier",
              "public": {
                "zerotier-ip": {
                  "name": "zerotier-ip",
                  "path": "/nix/store/ll59fgdfiladq2w0iq7lh7f184ckvx50-source/machines/luna/facts/zerotier-ip",
                  "value": null
                },
                "zerotier-network-id": {
                  "name": "zerotier-network-id",
                  "path": "/nix/store/ll59fgdfiladq2w0iq7lh7f184ckvx50-source/machines/luna/facts/zerotier-network-id",
                  "value": null
                }
              },
              "secret": {
                "zerotier-identity-secret": {
                  "groups": [],
                  "name": "zerotier-identity-secret",
                  "path": "/no-such-path"
                }
              }
            }
          }
        },
        "nixosMobileWorkaround": false,
        "password-store": {
          "secretLocation": "/etc/secret-vars"
        },
        "requireExplicitUpdate": false,
        "sops": {
          "defaultGroups": []
        },
        "targetHost": "188.245.151.45",
        "vars": {
          "generators": {
            "openssh": {
              "dependencies": [],
              "files": {
                "ssh.id_ed25519": {
                  "deploy": true,
                  "group": "root",
                  "mode": "400",
                  "name": "ssh.id_ed25519",
                  "neededFor": "services",
                  "owner": "root",
                  "secret": true
                },
                "ssh.id_ed25519.pub": {
                  "deploy": true,
                  "group": "root",
                  "mode": "400",
                  "name": "ssh.id_ed25519.pub",
                  "neededFor": "services",
                  "owner": "root",
                  "secret": false
                }
              },
              "migrateFact": "openssh",
              "name": "openssh",
              "prompts": {},
              "share": false,
              "validationHash": null
            }
          },
          "publicModule": "clan_cli.vars.public_modules.in_repo",
          "secretModule": "clan_cli.vars.secret_modules.sops"
        }
      },
      "override_build_host": "root@localhost",
      "private_key": "/home/lhebendanz/.local/share/vpn_bench/keys/id_ed25519",
      "host_key_check": 3
    },
    "vpn_ip": "fd1e:4856:9a1:22c8:f999:931e:4856:9a1"
  },
  {
    "cmachine": {
      "name": "milo",
      "flake": {
        "identifier": "/home/lhebendanz/.local/share/vpn_bench/clan"
      },
      "nix_options": [],
      "cached_deployment": {
        "buildHost": null,
        "facts": {
          "publicModule": "clan_cli.facts.public_modules.in_repo",
          "secretModule": "clan_cli.facts.secret_modules.sops",
          "secretUploadDirectory": "/var/lib/sops-nix",
          "services": {
            "zerotier": {
              "generator": {
                "finalScript": "set -eu -o pipefail\n\nexport PATH=\"/nix/store/lidgv1whp3cjhz62v07rsfq56p2qv77p-zerotierone-1.14.2/bin:/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9/bin:/nix/store/fr9yr63a1267cr0r86w18c77mh3xavcc-coreutils-9.6/bin\"\n\n# prepare sandbox user on platforms where this is supported\nmkdir -p /etc\n\ncat > /etc/group <<EOF\nroot:x:0:\nnixbld:!:$(id -g):\nnogroup:x:65534:\nEOF\n\ncat > /etc/passwd <<EOF\nroot:x:0:0:Nix build user:/build:/noshell\nnixbld:x:$(id -u):$(id -g):Nix build user:/build:/noshell\nnobody:x:65534:65534:Nobody:/:/noshell\nEOF\n\ncat > /etc/hosts <<EOF\n127.0.0.1 localhost\n::1 localhost\nEOF\n\npython3 /nix/store/76qxyya5k7md52v20v6r3nwdahjrapcx-generate.py --mode identity \\\n  --ip \"$facts/zerotier-ip\" \\\n  --identity-secret \"$secrets/zerotier-identity-secret\" \\\n  --network-id 1e485609a122c8f9\n\n",
                "path": [
                  "/nix/store/lidgv1whp3cjhz62v07rsfq56p2qv77p-zerotierone-1.14.2",
                  "/nix/store/26yi95240650jxp5dj78xzch70i1kzlz-python3-3.12.9"
                ],
                "prompt": null,
                "script": "python3 /nix/store/76qxyya5k7md52v20v6r3nwdahjrapcx-generate.py --mode identity \\\n  --ip \"$facts/zerotier-ip\" \\\n  --identity-secret \"$secrets/zerotier-identity-secret\" \\\n  --network-id 1e485609a122c8f9\n"
              },
              "name": "zerotier",
              "public": {
                "zerotier-ip": {
                  "name": "zerotier-ip",
                  "path": "/nix/store/i2vjmma7s7nnd1sfh8mzk8g4hvzng1lj-source/machines/milo/facts/zerotier-ip",
                  "value": null
                }
              },
              "secret": {
                "zerotier-identity-secret": {
                  "groups": [],
                  "name": "zerotier-identity-secret",
                  "path": "/no-such-path"
                }
              }
            }
          }
        },
        "nixosMobileWorkaround": false,
        "password-store": {
          "secretLocation": "/etc/secret-vars"
        },
        "requireExplicitUpdate": false,
        "sops": {
          "defaultGroups": []
        },
        "targetHost": "116.203.245.100",
        "vars": {
          "generators": {
            "openssh": {
              "dependencies": [],
              "files": {
                "ssh.id_ed25519": {
                  "deploy": true,
                  "group": "root",
                  "mode": "400",
                  "name": "ssh.id_ed25519",
                  "neededFor": "services",
                  "owner": "root",
                  "secret": true
                },
                "ssh.id_ed25519.pub": {
                  "deploy": true,
                  "group": "root",
                  "mode": "400",
                  "name": "ssh.id_ed25519.pub",
                  "neededFor": "services",
                  "owner": "root",
                  "secret": false
                }
              },
              "migrateFact": "openssh",
              "name": "openssh",
              "prompts": {},
              "share": false,
              "validationHash": null
            }
          },
          "publicModule": "clan_cli.vars.public_modules.in_repo",
          "secretModule": "clan_cli.vars.secret_modules.sops"
        }
      },
      "override_build_host": "root@localhost",
      "private_key": "/home/lhebendanz/.local/share/vpn_bench/keys/id_ed25519",
      "host_key_check": 3
    },
    "vpn_ip": "fd1e:4856:9a1:22c8:f999:9312:15b7:6187"
  }
]
